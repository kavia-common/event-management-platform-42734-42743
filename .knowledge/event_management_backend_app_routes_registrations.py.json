{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints related to user registrations for events, including listing, creating, canceling registrations, and listing by event for admins. It utilizes Flask, Flask-Smorest, JWT for authentication, and Marshmallow for serialization.", "external_files": ["flask.views", "flask_smorest", "marshmallow", "flask_jwt_extended", "../db", "../models"], "external_methods": ["flask.views.MethodView", "flask_smorest.Blueprint", "flask_smorest.abort", "marshmallow.Schema", "marshmallow.fields", "flask_jwt_extended.jwt_required", "flask_jwt_extended.get_jwt_identity", "db.session.add", "db.session.commit", "datetime.utcnow", "Registration.query.filter_by", "Registration.query.get_or_404", "Event.query.get_or_404", "User.query.get"], "published": ["blp"], "classes": [{"name": "RegistrationSchema", "description": "Schema for serializing registration data, including fields for id, user_id, event_id, status, and timestamps."}, {"name": "RegisterRequest", "description": "Schema for the registration request payload containing the event_id."}, {"name": "MyRegistrations", "description": "Endpoint class for listing and creating user registrations."}, {"name": "CancelRegistration", "description": "Endpoint class for canceling an existing registration."}, {"name": "AdminListByEvent", "description": "Admin endpoint class for listing registrations associated with a specific event."}], "methods": [{"name": "get(self)", "description": "Retrieve a list of the current user's registrations.", "scope": "MyRegistrations", "scopeKind": "class"}, {"name": "post(self, args)", "description": "Create a new registration for the current user for a specified event.", "scope": "MyRegistrations", "scopeKind": "class"}, {"name": "post(self, registration_id: int)", "description": "Cancel a registration, marking it as canceled and setting the canceled timestamp.", "scope": "CancelRegistration", "scopeKind": "class"}, {"name": "get(self, event_id: int)", "description": "List registrations for a specific event, accessible only by admin users.", "scope": "AdminListByEvent", "scopeKind": "class"}], "calls": ["Registration.query.filter_by", "Registration.query.get_or_404", "Event.query.get_or_404", "User.query.get", "db.session.add", "db.session.commit", "abort", "get_jwt_identity", "datetime.utcnow"], "search-terms": ["RegistrationEndpoints", "RegistrationSchema", "JWTAuthorization", "EventRegistration"], "state": 2, "file_id": 19, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "AdminListByEvent", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^class AdminListByEvent(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CancelRegistration", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^class CancelRegistration(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MyRegistrations", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^class MyRegistrations(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RegisterRequest", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^class RegisterRequest(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RegistrationSchema", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^class RegistrationSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^blp = Blueprint(\"Registrations\", \"registrations\", url_prefix=\"\\/api\\/registrations\", description/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "canceled_at", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    canceled_at = fields.DateTime(allow_none=True)$/", "language": "Python", "kind": "variable", "scope": "RegistrationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    created_at = fields.DateTime()$/", "language": "Python", "kind": "variable", "scope": "RegistrationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "event_id", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    event_id = fields.Int()$/", "language": "Python", "kind": "variable", "scope": "RegistrationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "event_id", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    event_id = fields.Int(required=True)$/", "language": "Python", "kind": "variable", "scope": "RegisterRequest", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "MyRegistrations", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    def get(self, event_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, event_id: int)", "scope": "AdminListByEvent", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    id = fields.Int()$/", "language": "Python", "kind": "variable", "scope": "RegistrationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    def post(self, args):$/", "language": "Python", "kind": "member", "signature": "(self, args)", "scope": "MyRegistrations", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    def post(self, registration_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, registration_id: int)", "scope": "CancelRegistration", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    status = fields.Str()$/", "language": "Python", "kind": "variable", "scope": "RegistrationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/event-management-platform-42734-42743/event_management_backend/app/routes/registrations.py", "pattern": "/^    user_id = fields.Int()$/", "language": "Python", "kind": "variable", "scope": "RegistrationSchema", "scopeKind": "class"}], "hash": "d6a2df3aeb287a0f5dc37db81b517546", "format-version": 4, "code-base-name": "event_management_backend", "filename": "event_management_backend/app/routes/registrations.py", "fields": [{"name": "blp = Blueprint(\"Registrations\", \"registrations\", url_prefix=\"\\/api\\/registrations\", description/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "canceled_at = fields.DateTime(allow_none=True)", "scope": "RegistrationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = fields.DateTime()", "scope": "RegistrationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "event_id = fields.Int()", "scope": "RegistrationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "event_id = fields.Int(required=True)", "scope": "RegisterRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "id = fields.Int()", "scope": "RegistrationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.Str()", "scope": "RegistrationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id = fields.Int()", "scope": "RegistrationSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"46": ""}]}